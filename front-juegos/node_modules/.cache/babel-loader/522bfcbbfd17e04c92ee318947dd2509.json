{"ast":null,"code":"var _jsxFileName = \"/Users/maxivargas/Desktop/Proyecto-Arqui/front-juegos/src/componentes/ListaGame.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useState, useEffect, useRef } from 'react';\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const ListaJuegos = () => {\n  _s();\n\n  const [juegos, setJuegos] = useState([]);\n  const history = useHistory();\n  const countRef = useRef(0);\n  const [eliminado, setElimina] = useState(false); // deleted -> eliminado\n\n  useEffect(() => {\n    recuperaAllLista();\n  }, [countRef]);\n\n  const recuperaAllLista = () => {\n    const config = {\n      credentials: 'include',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    };\n    axios.get(`http://127.0.0.1:8000/api/Juego/`, config).then(response => {\n      setJuegos(response.data);\n    }).catch(e => {\n      console.error(e);\n    });\n  };\n\n  const EliminaJuego = id => {\n    const config = {\n      credentials: 'include',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    };\n    axios.delete(`http://127.0.0.1:8000/api/Juego/${id}/`, config).then(response => {\n      setElimina(true);\n      recuperaAllLista();\n    }).catch(e => {\n      console.error(e);\n    });\n  };\n\n  const handleUpdateClick = id => {\n    history.push(`/Juego/${id}/actualizar/`);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"row justify-content-center\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col\",\n      children: [eliminado && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert alert-danger alert-dismissible fade show\",\n        role: \"alert\",\n        children: [\"Rese\\xF1a del juego eliminado.\", /*#__PURE__*/_jsxDEV(\"button\", {\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            xmlns: \"http://www.w3.org/2000/svg\",\n            width: \"20\",\n            height: \"20\",\n            fill: \"currentColor\",\n            class: \"bi bi-x-square\",\n            viewBox: \"0 0 16 16\",\n            children: [/*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }, this), juegos && juegos.map(juegos => /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"card mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"card-header\",\n          children: \"Rese\\xF1a sobre...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"card-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            class: \"card-title\",\n            children: juegos.Nombre\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n            class: \"card-subtitle mb-2 text-muted\",\n            children: juegos.Categoria\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n            class: \"card-subtitle mb-2 text-muted\",\n            children: juegos.Lanzamiento\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            class: \"card-text\",\n            children: juegos.Reseña\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"btn-group justify-content-around w-75 mb-1 \",\n            \"data-toggle\": \"buttons\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-primary\",\n                onClick: () => handleUpdateClick(juegos.id),\n                children: \"Actualizar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-danger\",\n                onClick: () => EliminaJuego(juegos.id),\n                children: \"Eliminar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 13\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ListaJuegos, \"ijADrveixa9TIvxdjqPBV0Bo/Hs=\", false, function () {\n  return [useHistory];\n});\n\n_c = ListaJuegos;\n\nvar _c;\n\n$RefreshReg$(_c, \"ListaJuegos\");","map":{"version":3,"sources":["/Users/maxivargas/Desktop/Proyecto-Arqui/front-juegos/src/componentes/ListaGame.js"],"names":["React","useState","useEffect","useRef","axios","useHistory","ListaJuegos","juegos","setJuegos","history","countRef","eliminado","setElimina","recuperaAllLista","config","credentials","headers","get","then","response","data","catch","e","console","error","EliminaJuego","id","delete","handleUpdateClick","push","map","Nombre","Categoria","Lanzamiento","Reseña"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { useState, useEffect, useRef } from 'react';\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\n\nexport const ListaJuegos = () => {\n  const [juegos, setJuegos] = useState([]);\n  const history = useHistory();\n  const countRef = useRef(0);\n  const [eliminado, setElimina] = useState(false); // deleted -> eliminado\n  useEffect(() => { recuperaAllLista();}, [countRef]);\n\n  const recuperaAllLista = () => { \n    const config = {\n        credentials: 'include',\n        headers: \n        {\n        'Content-Type': 'application/json'\n        }\n    };\n    axios \n        .get(`http://127.0.0.1:8000/api/Juego/`, config)\n        .then((response) => { setJuegos(response.data);})\n        .catch((e) => { console.error(e);});\n  };\n\n  const EliminaJuego = (id) => {\n    const config = {\n        credentials: 'include',\n        headers: \n        {\n        'Content-Type': 'application/json'\n        }\n    };\n    axios\n        .delete(`http://127.0.0.1:8000/api/Juego/${id}/`, config)\n        .then((response) => { setElimina(true); recuperaAllLista();})\n        .catch((e) => { console.error(e);});\n  };\n  const handleUpdateClick = (id) => { history.push(`/Juego/${id}/actualizar/`);};\n\n\nreturn (\n    <div className=\"row justify-content-center\">\n        <div className=\"col\">\n        {eliminado && (\n            <div className=\"alert alert-danger alert-dismissible fade show\" role=\"alert\" >\n            Reseña del juego eliminado.\n            <button>\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"currentColor\" class=\"bi bi-x-square\" viewBox=\"0 0 16 16\">\n                    <path d=\"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z\"/>\n                    <path d=\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\"/>\n                </svg>\n            </button>\n            </div>\n        )}\n        {juegos &&\n            juegos.map((juegos) => (\n\n            <div class=\"card mb-3\">\n                <div class=\"card-header\">\n                  Reseña sobre...\n                </div>\n                <div class=\"card-body\">\n                  <h5 class=\"card-title\">{juegos.Nombre}</h5>\n                  <h6 class=\"card-subtitle mb-2 text-muted\">{juegos.Categoria}</h6>\n                  <h6 class=\"card-subtitle mb-2 text-muted\">{juegos.Lanzamiento}</h6>\n                  <p class=\"card-text\">{juegos.Reseña}</p>\n\n                  <div className=\"btn-group justify-content-around w-75 mb-1 \" data-toggle=\"buttons\">\n                    <span>\n                    <button className=\"btn btn-primary\" onClick={() => handleUpdateClick(juegos.id)} >\n                        Actualizar\n                    </button>\n                    </span>\n                    <span>\n                    <button className=\"btn btn-danger\" onClick={() => EliminaJuego(juegos.id)}>\n                        Eliminar\n                    </button>\n                    </span>\n                </div> \n                </div>\n                </div>\n            ))}\n        </div>\n    </div>   \n  );\n};"]},"metadata":{},"sourceType":"module"}