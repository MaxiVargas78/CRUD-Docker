{"ast":null,"code":"var _jsxFileName = \"/Users/maxivargas/Desktop/Proyecto-Arqui/front-juegos/src/componentes/ActualizaGame.js\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const ActualizaJuegos = () => {\n  _s();\n\n  const inicialState = {\n    Nombre: \"\",\n    Categoria: \"\",\n    Lanzamiento: \"\",\n    Reseña: \"\"\n  };\n  let {\n    id\n  } = useParams();\n  const [juegoActual, setJuegoActual] = useState(inicialState);\n  const [enviado, setEnviado] = useState(false);\n  const countRef = useRef(0);\n  useEffect(() => {\n    recuperarJuego();\n  }, [countRef]);\n\n  const handleMenuChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setJuegoActual({ ...juegoActual,\n      [name]: value\n    });\n  };\n\n  const recuperarJuego = () => {\n    const config = {\n      credentials: 'include',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    };\n    axios.get(`http://127.0.0.1:8000/api/Juego/${id}/`, config).then(response => {\n      setJuegoActual({\n        id: response.data.id,\n        Nombre: response.data.Nombre,\n        Categoria: response.data.Categoria,\n        Lanzamiento: response.data.Lanzamiento,\n        Reseña: response.data.Reseña\n      });\n      console.log(juegoActual);\n    }).catch(e => {\n      console.error(e);\n    });\n  };\n\n  const actualizaJuego = () => {\n    const config = {\n      credentials: 'include',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    };\n    let data = {\n      Nombre: juegoActual.Nombre,\n      Categoria: juegoActual.Categoria,\n      Lanzamiento: juegoActual.Lanzamiento,\n      Reseña: juegoActual.Reseña\n    };\n    axios.put(`http://127.0.0.1:8000/api/Juego/${id}`, data, config).then(response => {\n      setJuegoActual({\n        Nombre: response.data.Nombre,\n        Categoria: response.data.Categoria,\n        Lanzamiento: response.data.Lanzamiento,\n        Reseña: response.data.Reseña\n      });\n      setEnviado(true);\n      console.log(response.data);\n    }).catch(e => {\n      console.error(e);\n    });\n  };\n\n  const nuevoJuego = () => {\n    setJuegoActual(inicialState);\n    setEnviado(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"submit-form\",\n    children: enviado ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        lassName: \"alert alert-success alert-dismissible fade show\",\n        role: \"alert\",\n        children: \"\\xA1Rese\\xF1a actualizada!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-success\",\n        onClick: nuevoJuego,\n        children: \"Actualizar rese\\xF1a\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group  text-white mb-3 \",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"Nombre\",\n          children: \"Nombre\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          id: \"Nombre\",\n          required: true,\n          value: juegoActual.Nombre,\n          onChange: handleMenuChange,\n          name: \"Nombre\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group  text-white mb-3 \",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"Categoria\",\n          children: \"Categor\\xEDa\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          id: \"Categoria\",\n          required: true,\n          value: juegoActual.Categoria,\n          onChange: handleMenuChange,\n          name: \"Categoria\",\n          default: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group  text-white mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"Lanzamiento\",\n          children: \"Lanzamiento\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          className: \"form-control\",\n          id: \"Lanzamiento\",\n          required: true,\n          value: juegoActual.Lanzamiento,\n          onChange: handleMenuChange,\n          name: \"Lanzamiento\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group  text-white mb-3 \",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"Rese\\xF1a\",\n          children: \"Rese\\xF1a nueva...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          className: \"form-control\",\n          id: \"Rese\\xF1a\",\n          required: true,\n          value: juegoActual.Reseña,\n          onChange: handleMenuChange,\n          name: \"Rese\\xF1a\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: actualizaJuego,\n        className: \"btn btn-success\",\n        children: \"Subir actualizaci\\xF3n\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 11\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ActualizaJuegos, \"VcXWc1IguflXEpLhG5Flc7d8QJo=\", false, function () {\n  return [useParams];\n});\n\n_c = ActualizaJuegos;\n\nvar _c;\n\n$RefreshReg$(_c, \"ActualizaJuegos\");","map":{"version":3,"sources":["/Users/maxivargas/Desktop/Proyecto-Arqui/front-juegos/src/componentes/ActualizaGame.js"],"names":["axios","React","useState","useEffect","useRef","useParams","ActualizaJuegos","inicialState","Nombre","Categoria","Lanzamiento","Reseña","id","juegoActual","setJuegoActual","enviado","setEnviado","countRef","recuperarJuego","handleMenuChange","e","name","value","target","config","credentials","headers","get","then","response","data","console","log","catch","error","actualizaJuego","put","nuevoJuego"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { useParams } from \"react-router-dom\";\n\nexport const ActualizaJuegos = () => {\n    const inicialState = {\n        Nombre: \"\",\n        Categoria: \"\",\n        Lanzamiento: \"\",\n        Reseña: \"\",\n      };\n      let { id } = useParams();\n    const [juegoActual, setJuegoActual] = useState(inicialState);\n    const [enviado, setEnviado] = useState(false);\n    const countRef = useRef(0);\n\n    useEffect(() => {\n        recuperarJuego();\n      }, [countRef]);\n\n    const handleMenuChange = (e) => {\n        const { name, value } = e.target;\n        setJuegoActual({ ...juegoActual, [name]: value });\n    };\n    const recuperarJuego = () => {\n        const config = {\n            credentials: 'include',\n            headers: \n            {\n                'Content-Type': 'application/json'\n            }\n        };\n        axios\n            .get(`http://127.0.0.1:8000/api/Juego/${id}/`, config)\n            .then((response) => {\n                setJuegoActual({\n                id: response.data.id,\n                Nombre: response.data.Nombre,\n                Categoria: response.data.Categoria,\n                Lanzamiento: response.data.Lanzamiento,\n                Reseña: response.data.Reseña,\n                });\n                console.log(juegoActual);\n            })\n            .catch((e) => {\n                console.error(e);\n            });\n        };\n    const actualizaJuego = () => {\n        const config = {\n            credentials: 'include',\n            headers: \n            {\n                'Content-Type': 'application/json'\n            }\n        };\n        let data = {\n          Nombre: juegoActual.Nombre,\n          Categoria: juegoActual.Categoria,\n          Lanzamiento: juegoActual.Lanzamiento,\n          Reseña: juegoActual.Reseña,\n        };\n        axios\n            .put(`http://127.0.0.1:8000/api/Juego/${id}`,data, config)\n            .then((response) => {\n                setJuegoActual({\n                Nombre: response.data.Nombre,\n                Categoria: response.data.Categoria,\n                Lanzamiento: response.data.Lanzamiento,\n                Reseña: response.data.Reseña,\n\n                });\n                setEnviado(true);\n                console.log(response.data);\n            })\n            .catch((e) => {\n                console.error(e);\n            });\n    };\n    const nuevoJuego = () => {\n        setJuegoActual(inicialState);\n        setEnviado(false);\n    };\n    \n    return (\n        <div className=\"submit-form\">\n        {enviado? (\n          <div>\n            <div lassName=\"alert alert-success alert-dismissible fade show\" role=\"alert\" >\n              ¡Reseña actualizada!\n            </div>\n            <button className=\"btn btn-success\" onClick={nuevoJuego}>\n              Actualizar reseña\n            </button>\n          </div>\n        ) : (\n          <div>\n            <div className=\"form-group  text-white mb-3 \">\n              <label htmlFor=\"Nombre\">Nombre</label>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                id=\"Nombre\"\n                required\n                value={juegoActual.Nombre}\n                onChange={handleMenuChange}\n                name=\"Nombre\"\n              />\n            </div>\n            <div className=\"form-group  text-white mb-3 \">\n              <label htmlFor=\"Categoria\">Categoría</label>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                id=\"Categoria\"\n                required\n                value={juegoActual.Categoria}\n                onChange={handleMenuChange}\n                name=\"Categoria\"\n                default\n              />\n            </div>\n            <div className=\"form-group  text-white mb-3\">\n              <label htmlFor=\"Lanzamiento\">Lanzamiento</label>\n              <input\n                type=\"number\"\n                className=\"form-control\"\n                id=\"Lanzamiento\"\n                required\n                value={juegoActual.Lanzamiento}\n                onChange={handleMenuChange}\n                name=\"Lanzamiento\"\n              />\n            </div>\n            <div className=\"form-group  text-white mb-3 \">\n              <label htmlFor=\"Reseña\">Reseña nueva...</label>\n              <input\n                type=\"number\"\n                className=\"form-control\"\n                id=\"Reseña\"\n                required\n                value={juegoActual.Reseña}\n                onChange={handleMenuChange}\n                name=\"Reseña\"\n              />\n            </div>\n            <button onClick={actualizaJuego} className=\"btn btn-success\">\n              Subir actualización\n            </button>\n          </div>\n        )}\n      </div>\n      );\n    };"]},"metadata":{},"sourceType":"module"}